(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/aqi_logo.aa692d9f.jpg"},154:function(e,t,a){e.exports=a(210)},159:function(e,t,a){},186:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),o=a(40),c=a.n(o),u=(a(159),a(99)),i=a(20),s=a(51),m=a(266),d=a(272),p=a(273),g=a(282),h=a(274),E=a(275),f=a(276),b=a(270),v=a(136),y=a.n(v),w=a(132),x=a.n(w),O=a(133),N=a.n(O),j=a(134),C=a.n(j),A=a(135),I=a.n(A),k=a(256),P=Object(m.a)({drawerPaper:{width:240},drawer:{width:240}}),D=Object(k.a)(d.a)(n||(n=Object(s.a)(["\n  & > div {\n    background-color: #081A51;\n  }\n"]))),F=function(){var e=P(),t=Object(i.f)(),a=Object(i.g)(),n=[{text:"Dashboard",icon:r.a.createElement(x.a,{sx:{fill:"white"}}),path:"/"},{text:"Map",icon:r.a.createElement(N.a,{sx:{fill:"white"}}),path:"/map"},{text:"Pollutants",icon:r.a.createElement(C.a,{sx:{fill:"white"}}),path:"/pollutants"},{text:"Agency",icon:r.a.createElement(I.a,{sx:{fill:"white"}}),path:"/agency"}];return r.a.createElement(D,{classes:{paper:e.drawerPaper},className:e.drawer,variant:"permanent",anchor:"left"},r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,justifyContent:"center"},r.a.createElement(p.a,{item:!0,sx:6},r.a.createElement(y.a,{sx:{fill:"white",fontSize:40}})),r.a.createElement(p.a,{item:!0,sx:6},r.a.createElement(g.a,{variant:"h4",color:"#fff"},"HAQ-I")))),r.a.createElement(h.a,null,n.map((function(e){return r.a.createElement(b.a,{button:!0,onClick:function(){return t.push(e.path)},key:e.text,selected:e.path===a.pathname},r.a.createElement(E.a,null,e.icon),r.a.createElement(f.a,null,r.a.createElement(g.a,{color:"#FFFFFF"},e.text)))}))))},T=a(56),S=a.n(T),M=a(84),Q=a(10),z=a(66),B=a.n(z),Y=a(85),L=a(281),q=function(e){return r.a.createElement(L.a,null,r.a.createElement(Y.b,{data:{labels:e.chartLabels,datasets:[{label:"OZONE",data:e.data.ozone,backgroundColor:"rgba(48, 217, 135, 1)",borderColor:"rgba(48, 217, 135, 1)",borderWidth:2},{label:"PM2.5",data:e.data.pm25,backgroundColor:"rgba(1, 126, 250, 1)",borderColor:"rgba(1, 126, 250, 1)",borderWidth:2},{label:"PM10",data:e.data.pm10,backgroundColor:"rgba(253, 31, 155, 1)",borderColor:"rgba(253, 31, 155, 1)",borderWidth:2}]},options:{scales:{y:{display:!0,title:{display:!0,text:"AQI",color:"#000000",align:"center",font:{family:"Calibri",size:15,style:"normal",lineHeight:1.2},padding:{top:5,left:0,right:0,bottom:0}}}}},height:null,width:null}))},H=a(268),R=a(278),Z=a(265),U=a(279),J=a(105),K=(a(186),a(277)),V=["Enjoy your outdoor activit","If you are unusually sensitive to particle pollution, consider reducing your activity level or shorten the amount of time you are active outdoors.","Unusually sensitive people should consider limiting prolonged outdoor exertion","Active children and adults and people with respiratory disease such as asthma  should avoid prolonged outdoor exertion. Everyone else, especially children,    should limit prolonged outdoor exertion","Active children and adults, and people with respiratory disease such as asthma,should avoid all outdoor exertion. Everyone else, especially children, should limit outdoor exertion.","Everyone should avoid all outdoor exertion."],W=function(e){return Math.round(e/500*100,2)},_=function(e){var t=[{title:"good",color:"lightgreen",message:V[0]},{title:"moderate",color:"yellow",message:V[1]},{title:"unhealthy for sensitive groups",color:"orange",message:V[2]},{title:"unhealthy",color:"pink",message:V[3]},{title:"very unhealthy",color:"purple",message:V[4]},{title:"hazardous",color:"maroon",message:V[5]}];return e>=0&&e<=50?t[0]:e>=51&&e<=100?t[1]:e>=101&&e<=150?t[2]:e>=151&&e<=200?t[3]:e>=201&&e<=300?t[4]:e>=301?t[5]:{title:"undefined",color:"gray",message:"Nothing"}},X=function(e){e.title;var t=e.parameterName,a=e.rating,n=e.aqi,o=(e.reportingArea,e.description,Object(l.useState)(!1)),c=Object(Q.a)(o,2),u=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",width:"320px",alignItems:"center",margin:"16px 0"}},r.a.createElement("strong",{className:"w-20"},t||"No Data"),r.a.createElement("div",{className:"w-20"},r.a.createElement("span",{className:"aqi-circle",style:{backgroundColor:_(Number(n)).color}},n||"No AQI")),r.a.createElement("span",{className:"w-30"},a),r.a.createElement("span",{onClick:function(){return i(!u)}},u?r.a.createElement(J.b,null):r.a.createElement(J.a,null))),u&&r.a.createElement("div",null,_(Number(n)).message))},G=function(e){var t=e.data;return console.log(t),r.a.createElement("div",{className:"flex chartbar-item"},r.a.createElement("span",{className:"w-20 b"},t&&t.ParameterName),r.a.createElement("span",{className:"w-10"},t&&t.AQI),r.a.createElement("div",{className:"w-70"},r.a.createElement("div",{className:"chartbar-wrapper"},r.a.createElement("div",{className:"chartbar-main",style:{width:"".concat(t&&W(t.AQI),"%")}}),r.a.createElement("div",{className:"chartbar-bg"},[{width:10,color:"lightgreen"},{width:10,color:"#fbff17"},{width:10,color:"#ff7c17"},{width:10,color:"red"},{width:20,color:"purple"},{width:40,color:"#520909"}].map((function(e,t){return r.a.createElement("div",{key:t,className:"chartbar-group",style:{width:"".concat(e.width,"%"),backgroundColor:e.color}})})))),t&&W(t.AQI)))},$=function(e){var t=e.data;return r.a.createElement("div",{className:"ph3"},r.a.createElement("h2",null,"Ranked by Pollutants"),r.a.createElement("div",{className:"ph4"},t&&t.map((function(e,t){return r.a.createElement(G,{data:e,key:t})}))))},ee=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("h2",null,"Health Effect"),t&&t.map((function(e,t){return r.a.createElement(X,{parameterName:e.ParameterName,aqi:e.AQI,rating:e.Category.Name,key:t})})))},te=function(){var e=Object(l.useRef)(null),t=Object(l.useState)(!0),a=Object(Q.a)(t,2),n=a[0],o=a[1],c=Object(l.useState)(null),u=Object(Q.a)(c,2),i=u[0],s=u[1],m=Object(l.useState)("77057"),d=Object(Q.a)(m,2),p=d[0],g=d[1],h="https://www.airnowapi.org/aq/observation/zipCode/current/?format=application/json&zipCode=".concat(p,"&distance=25&API_KEY=055CDA36-3FC4-4E95-BBBE-73C265CF3131");return Object(l.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){s(e),o(!1)}))}),[p]),r.a.createElement(K.a,null,r.a.createElement("input",{type:"number",ref:e,defaultValue:p,onChange:function(e){return g(e.target.value)}}),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-70"},!i&&n&&r.a.createElement("span",null,"Loading data"),i&&r.a.createElement($,{data:i}),!i&&!n&&r.a.createElement("span",null,"Failed to load data")),r.a.createElement("div",{className:"w-50"},!i&&n&&r.a.createElement("span",null,"Loading data"),i&&r.a.createElement(ee,{data:i}),!i&&!n&&r.a.createElement("span",null,"Failed to load data"))))},ae=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement(g.a,{align:"center"},"Rank by Locations in Houston"),r.a.createElement(Y.a,{data:{labels:e.data.siteName,datasets:[{label:"HOUSTON",data:e.data.aqi,backgroundColor:"rgba(81, 203, 255, 1)",borderColor:"rgba(81, 203, 255, 1)",borderWidth:2}]},options:{indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{display:!0,title:{display:!0,text:"AQI",color:"#000000",align:"center",font:{family:"Calibri",size:15,style:"normal",lineHeight:1.2},padding:{top:5,left:0,right:0,bottom:0}}}}},height:null,width:null})))},ne="81AE9E6C-ABE1-4FE5-A11C-75ED6ACA2A07",le=function(e,t){var a=new Date,n=new Date(a.getFullYear(),0,0),l=a-n+(60*(n.getTimezoneOffset()-a.getTimezoneOffset())*1e3-864e5*e),r=Math.floor(l/864e5),o=new Date(t,0);return new Date(o.setDate(r))},re=function(){var e=le(0,(new Date).getFullYear()),t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return[(e=le(1,(new Date).getFullYear())).getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),t]},oe={ozone:[null,null,null,null,null,null,null],pm25:[null,null,null,null,null,null,null],pm10:[null,null,null,null,null,null,null]},ce={siteName:[null,null,null,null,null],aqi:[null,null,null,null,null]},ue=function(){var e=Object(l.useState)(!1),t=Object(Q.a)(e,2),a=t[0],n=t[1],o=Object(l.useState)((function(){return{ozone:[null,null,null,null,null,null,null],pm25:[null,null,null,null,null,null,null],pm10:[null,null,null,null,null,null,null]}})),c=Object(Q.a)(o,2),u=c[0],i=c[1],s=Object(l.useState)((function(){return{siteName:[null,null,null,null,null],aqi:[null,null,null,null,null]}})),m=Object(Q.a)(s,2),d=m[0],g=m[1],h=function(e){for(var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=[null,null,null,null,null,null,null],n=6;n>-1;n--)a[n]=t[e],-1===(e-=1)&&(e=6);return a}((new Date).getDay()),E=function(){var e=Object(M.a)(S.a.mark((function e(){var t,a,l,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=re(),a=Object(Q.a)(t,2),l=a[0],r=a[1],e.next=3,B.a.get("https://www.airnowapi.org/aq/data/?startDate="+l+"T00&endDate="+r+"T00&parameters=OZONE,PM25,PM10&BBOX=-96.072388,29.091871,-94.578247,30.227919&dataType=A&format=application/json&verbose=1&monitorType=2&includerawconcentrations=0&API_KEY="+ne).then((function(e){var t=e.data.sort((function(e,t){var a=e.AQI;return t.AQI-a})),a=1,n=1;for(ce.siteName[0]=t[0].SiteName,ce.aqi[0]=t[0].AQI;n<5&&a<e.data.length;)ce.siteName.includes(t[a].SiteName)||(ce.siteName[n]=t[a].SiteName,ce.aqi[n]=t[a].AQI,n+=1),a+=1;g(ce)})).catch((function(e){429===e.response.status&&n(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){i(oe),E()}),[u]);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"}},r.a.createElement(H.a,{severity:"error"},r.a.createElement(R.a,null,"Error"),r.a.createElement("strong",null,"Reached request limit of AirNow API. Please come back in one hour."))):r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{container:!0,item:!0,justifyContent:"center",xs:12,md:12,lg:12},r.a.createElement(p.a,{item:!0,xs:"auto",md:"auto",lg:"auto"},r.a.createElement(Z.a,{label:"ZIPCODE",variant:"standard",InputLabelProps:{shrink:!1},inputProps:{maxLength:5,style:{textAlign:"center",marginLeft:"50px",color:"#1976d2"}},onKeyUp:function(e){return"Enter"===e.key?void i({ozone:[null,null,null,null,null,null,null],pm25:[null,null,null,null,null,null,null],pm10:[null,null,null,null,null,null,null]}):function(e){if(5===e.length)return!0}(e.target.value)?function(e){var t=le(0,(new Date).getFullYear()),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();console.log("CURRENT DATE",a);for(var n=function(n){B.a.get("https://www.airnowapi.org/aq/observation/zipCode/historical/?format=application/json&zipCode="+e+"&date="+a+"T00-0000&distance=25&API_KEY="+ne).then((function(e){e.data.forEach((function(e){return"OZONE"===e.ParameterName?oe.ozone[n]=e.AQI:"PM2.5"===e.ParameterName?oe.pm25[n]=e.AQI:"PM10"===e.ParameterName?oe.pm10[n]=e.AQI:null}))})),t=le(7-n,t.getFullYear()),a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},l=6;l>-1;l--)n(l);console.log("tempPollutantsTrendData",oe.ozone)}(e.target.value):null}}))),r.a.createElement(p.a,{container:!0,item:!0,xs:12,md:12,lg:12},r.a.createElement(p.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(U.a,{sx:{width:"99%",height:"25%",margin:"8px"}},r.a.createElement(q,{data:u,chartLabels:h}))),r.a.createElement(p.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(U.a,{sx:{width:"98%",height:"25%",margin:"8px"}},r.a.createElement(te,{data:null}))),r.a.createElement(p.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(U.a,{sx:{width:"98%",height:"25%",margin:"8px"}},r.a.createElement(ae,{data:d}))))))},ie=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Pollutants"))},se=a(47),me=a(50),de=a(139),pe=a.n(de);a(205);a(206).config();var ge={right:10,top:10},he=function(){var e=Object(l.useState)({latitude:29.749907,longitude:-95.358421,width:"100vw",height:"100vh",zoom:8.5}),t=Object(Q.a)(e,2),a=t[0],n=t[1],o=(Object(l.useRef)(),Object(l.useCallback)((function(e){return n(e)}),[])),c=(Object(l.useCallback)((function(e){return o(Object(se.a)(Object(se.a)({},e),{transitionDuration:1e3}))}),[o]),Object(l.useState)([])),u=Object(Q.a)(c,2),i=u[0],s=u[1],m=Object(l.useState)(null),d=Object(Q.a)(m,2),p=d[0],g=d[1],h=function(){var e=Object(M.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("https://www.airnowapi.org/aq/data/?startDate=2021-11-23T20&endDate=2021-11-23T21&parameters=OZONE,PM25,PM10&BBOX=-95.945435,29.260701,-94.341431,30.195642&dataType=B&format=application/json&verbose=0&monitorType=2&includerawconcentrations=1&API_KEY=055CDA36-3FC4-4E95-BBBE-73C265CF3131");case 3:t=e.sent,console.log(t.data),s(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){h()}),[]),r.a.createElement("div",null,r.a.createElement(me.d,Object.assign({},a,{mapboxApiAccessToken:"pk.eyJ1IjoiY29ycmlnZXV4IiwiYSI6ImNrdnZ6dHl4NTBkenAybm8xd3JvZnBtYngifQ.2NhYu29NM9-8J5adEyvuzA",mapStyle:"mapbox://styles/corrigeux/ckvw155sf03ac14lh1u9rv6sh",onViewportChange:function(e){return n(e)}}),i.map((function(e){return r.a.createElement(me.b,{key:e,latitude:e.Latitude,longitude:e.Longitude},r.a.createElement("button",{onClick:function(t){t.preventDefault(),g(e)}},r.a.createElement("img",{src:pe.a,alt:"Monitor Location Icon",styles:"transparent"})))})),p?r.a.createElement(me.c,{latitude:p.Latitude,longitude:p.Longitude,onClose:function(){g(null)}},r.a.createElement("div",null,r.a.createElement("h2",{className:"body"},"Monitor Information"),r.a.createElement("p",null,r.a.createElement("strong",null,"AQI:")," ",p.AQI),r.a.createElement("p",null,r.a.createElement("strong",null,"Parameter:")," ",p.Parameter),r.a.createElement("p",null,r.a.createElement("strong",null,"Raw Concentration:")," ",p.RawConcentration),r.a.createElement("p",null,r.a.createElement("strong",null,"Value:")," ",p.Value),r.a.createElement("p",null,r.a.createElement("strong",null,"UTC:")," ",p.UTC))):null,r.a.createElement(me.a,{style:ge,positionOptions:{enableHighAccuracy:!0},fitBoundsOptions:{maxZoom:9},trackUserLocation:!0,auto:!0})))};Object(o.render)(r.a.createElement(he,null),document.getElementById("root"));var Ee=he,fe=Object(m.a)({root:{display:"flex",backgroundColor:""}});var be=function(){var e=fe();return r.a.createElement(u.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(F,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/HAQI"},r.a.createElement(ue,null)),r.a.createElement(i.a,{exact:!0,path:"/ranked-locations"},r.a.createElement(ae,null)),r.a.createElement(i.a,{exact:!0,path:"/ranked-pollutants"},r.a.createElement(te,null)),r.a.createElement(i.a,{exact:!0,path:"/pollutants"},r.a.createElement(ie,null)),r.a.createElement(i.a,{exact:!0,path:"/agency",component:function(){return window.location.href="https://www.tceq.texas.gov/permitting/reporting.html",null}}),r.a.createElement(i.a,{exact:!0,path:"/map"},r.a.createElement(Ee,null)))))},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,284)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),l(e),r(e),o(e)}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),ve()}},[[154,1,2]]]);
//# sourceMappingURL=main.c169e38c.chunk.js.map